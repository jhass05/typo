<%= error_messages_for 'user' %>

<fieldset>
  <legend><%= _("Personal information")%></legend>

  <div>
    <label class="float" for="user_login"><%= _("Login")%></label>
    <p class='input_text_title'>
      <%= text_field('user', 'login', {:class => 'small medium'}) %>
    </p>
  </div>
  <div>
    <label class="float" for="user_firstname"><%= _("Firstname") %></label>
    <p class='input_text_title'>
      <%= text_field('user', 'firstname', {:class => 'small medium'}) %>
    </p>
  </div>
  <div>
    <label class="float" for="user_lastname"><%= _("Lastname") %></label>
    <p class='input_text_title'>
      <%= text_field('user', 'lastname', {:class => 'small medium'}) %>
    </p>
  </div>
  <div>
    <label class="float" for="user_nickname"><%= _("Nickname") %></label>
    <p class='input_text_title'>
      <%= text_field('user', 'nickname', {:class => 'small medium'}) %>
    </p>
  </div>
</fieldset>
  

<fieldset>
  <legend><%= _("User's settings")%></legend>

  <% if controller.controller_name == 'users' %>
  <div>
    <label class="float" for="user_profile"><%= _("Profile")%></label>
    <p class='input_text_title'>
      <%=  select("user", "profile_id", @profiles.collect {|p| [ _(p.nicename), p.id ] }, { :include_blank => true }) %>
    </p>
  </div>
  <div>
    <label class='float' for="user_state"><%= _("User's status")%></label>
    <p class='input_text_title'>
      <select name="user[state]">
        <option value="active" <%= 'selected' if @user.state == 'active' %>><%= _("Active")%></option>
        <option value="inactive" <%= 'selected' if @user.state == 'inactive'%>><%= _("Inactive")%></option>
      </select>
    </p>
  </div>
  <% end %>

  <% unless @user.login.nil? %>
  <div>
    <label class="float" for="user_login"><%= _("Display Name")%></label>
    <p class='input_text_title'>
      <select name="user[name]">
        <%= render_options_for_display_name %>
      </select>
    </p>
  </div>
  <% end %>
  
  <div>
    <label class="float" for="user_email"><%= _("Email")%></label> 
    <p class='input_text_title'>
      <%= text_field('user', 'email', {:class => 'small medium'})  %>
    </p>
  </div>
  <div>
    <label class="float" for="user_password"><%= _("Password")%></label>
    <p class='input_text_title'>
      <%= password_field('user', 'password', {:class => 'small medium'}) %>
    </p>
  </div>
  <div>
    <label class="float" for="user_password"><%= _("Password confirmation")%></label>
    <p class='input_text_title'>
      <%= password_field('user', 'password_confirmation', {:class => 'small medium'})  %>
    </p>
  </div>
  <div>
    <label class="float"><%= _("Editor")%></label>
    <p class='input_text_title ml140'>
      <input type="radio" name="user[editor]" value="simple" id="editor_0" <%= 'checked="checked"' if @user.editor == 'simple' %>/>
      <label for="editor_0"><%= _("Use simple editor")%></label><br />
      <input type="radio" name="user[editor]" value="visual" id="editor_2" <%= 'checked="checked"' if @user.editor == 'visual' %>/>
      <label for="editor_2"><%= _("Use visual rich editor")%></label>
    </p>
  </div>
  <div>
    <label class="float" for="text_filter"><%= _("Article filter")%></label>
    <p class='input_text_title ml140'>
      <select name="user[text_filter_id]" id="text_filter">
        <%= options_for_select text_filter_options_with_id, @user.text_filter.id %>
      </select>
    </p>
  </div>
</fieldset>

<fieldset>
  <legend><%= _("Notifications") %></legend>
  <div>
    <label class="float large" for="user_notify_via_email"><%= _("Send notification messages via email")%>?</label>
    <p class='input_text_title'>
      <%= check_box 'user', 'notify_via_email'  %>
    </p>
  </div>
  <div class='clear'>
    <label class="float large" for="user_notify_on_new_articles"><%= _("Send notification messages when new articles are posted")%>?</label>
    <p class='input_text_title'>
      <%= check_box 'user', 'notify_on_new_articles'  %>
    </p>
  </div>
  <div class='clear'>
    <label class="float large" for="user_notify_on_comments"><%= _("Send notification messages when comments are posted")%>?</label>
    <p class='input_text_title'>
      <%= check_box 'user', 'notify_on_comments'  %>
    </p>
  </div>
</fieldset>

<fieldset>
  <legend><%= _("Contact options") %></legend>

  <div class='clear'>
    <label class="float" for="user_url"><%= _("Your site")%></label>
    <p class='input_text_title ml140'>
      <%= text_field('user', 'url', {:class => 'small medium'}) %>
      <%= check_box 'user', 'show_url' %> 
      <label for='user_show_url'><%= _("display url on public profile") %></label>
    </p>
  </div>
  <div class='clear'>
    <label class="float" for="user_msn"><%= _("Your MSN")%></label>
    <p class='input_text_title ml140'>
      <%= text_field('user', 'msn', {:class => 'small medium'}) %>
      <%= check_box 'user', 'show_msn' %> 
      <label for='user_show_msn'><%= _("display MSN ID on public profile") %></label>
    </p>
  </div>
  <div class='clear'>
    <label class="float" for="user_yahoo"><%= _("Your Yahoo ID")%></label>
    <p class='input_text_title ml140'>
      <%= text_field('user', 'yahoo', {:class => 'small medium'}) %>
      <%= check_box 'user', 'show_yahoo' %> 
      <label for='user_show_yahoo'><%= _("display Yahoo! ID on public profile") %></label>
    </p>
  </div>
  <div class='clear'>
    <label class="float" for="user_jabber"><%= _("Your Jabber ID")%></label>
    <p class='input_text_title ml140'>
      <%= text_field('user', 'jabber', {:class => 'small medium'}) %>
      <%= check_box 'user', 'show_jabber' %> 
      <label for='user_show_jabber'><%= _("display Jabber ID on public profile") %></label>
    </p>
  </div>
  <div class='clear'>
    <label class="float" for="user_aim"><%= _("Your AIM id")%></label>
    <p class='input_text_title ml140'>
      <%= text_field('user', 'aim', {:class => 'small medium'}) %>
      <%= check_box 'user', 'show_aim' %> 
      <label for='user_show_aim'><%= _("display AIM ID on public profile") %></label>
    </p>
  </div>
  <div class='clear'>
    <label class="float" for="user_twitter"><%= _("Your Twitter username")%></label>
    <p class='input_text_title ml140'>
      <%= text_field('user', 'twitter', {:class => 'small medium'}) %>
      <%= check_box 'user', 'show_twitter' %> 
      <label for='user_show_twitter'><%= _("display twitter on public profile") %></label>
    </p>
  </div>
  <div class='clear'>
    <label class='float' for="user_description"><%= _("Tell us more about you")%></label>
    <p class='input_text_title'>
      <%= text_area('user', 'description', {:class => 'small large', :rows => 5}) %>
    </p>
  </div>
</fieldset>

<%= cancel_or_save %>
